package com.sparta.view;

import com.sparta.controller.NotOnMenuException;
import com.sparta.controller.SortManager;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;


import java.util.Arrays;
import java.util.Scanner;

public class DisplayManager {

    public static Logger logger = LogManager.getLogger(Main.class);
    // this is the file that will interact with the user
    Scanner input = new Scanner(System.in);
    SortManager sortManager = new SortManager();
    public void display(){
        String mainMenu = """

                \t\t\t-----MAIN MENU-----

                This program will sort a random array generated by you.
                Please enter the size of the array:\s""";
        System.out.println(mainMenu);
         try {
             int arraySize = input.nextInt();
             int[] randomArray = sortManager.arrayGenerator(arraySize);
             System.out.println("\n\nHere is your array: \n"+ Arrays.toString(randomArray) + "\n\n");
             nextStep(randomArray);
         } catch (NotOnMenuException e) {
             logger.error(e.getMessage(), e);
             System.out.println("Please enter a valid option from the menu");
         } catch (Exception e){
             logger.error(e.getMessage(), e);
             System.out.println("You need to enter a positive integer.");
         }
    }
    private void nextStep(int[] randomArray) throws NotOnMenuException {
        System.out.println("What type of sorting algorithm would you like to use? ");
        System.out.println("Please enter a corresponding number.");
        System.out.println("1: Bubble Sort Algorithm");
        System.out.println("2: Merge Sort Algorithm");
        System.out.println("3: Binary Tree Implementation");
        int pick = input.nextInt();
        if(pick > 0 && pick < 4){
            System.out.println(Arrays.toString(sortManager.pickSort(pick, randomArray)));
        } else {
            throw new NotOnMenuException();
        }

    }
}
